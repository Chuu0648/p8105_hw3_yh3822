---
title: "p8105_hw3_yh3822"
output: github_document
date: "2024-10-12"
---

```{r set up}
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)
library(tidyverse)
library(readxl)
library(dplyr)
library(p8105.datasets)
```


## Problem 1

```{r}
data("ny_noaa")
str(ny_noaa)
summary(ny_noaa)
```


```{r}
missing_data_summary = ny_noaa %>%
  summarize(
    missing_tmax = mean(is.na(tmax)),
    missing_tmin = mean(is.na(tmin)),
    missing_prcp = mean(is.na(prcp)),
    missing_snow = mean(is.na(snow)),
    missing_snwd = mean(is.na(snwd ))
  )
missing_data_summary
```

This dataset contains the weather data of New York state weather stations from January 1, 1981 through December 31, 2010, including seven variables, which are id, date, prcp, snow, snwd, tmax, and tmin. Among them, "prcp" means the precipitation (tenths of mm), "snow" means the snowfall (mm), "snwd" means the depth of snow (mm), "tmax" means the maximum temperature (tenths of degrees C), and "tmin" means the minimum temperature (tenths of degrees C). There are totally `r nrow(ny_noaa)` rows and `r ncol(ny_noaa)` columns. We found out that about 43.7 percent of the "tmin" and "tmax" are missing, which would seriously affect the analysis of temperatures and it's a big issue.




```{r}
ny_noaa$tmin = as.numeric(ny_noaa$tmin)
ny_noaa$tmax = as.numeric(ny_noaa$tmax)
ny_noaa_clean = ny_noaa %>%
  janitor::clean_names() %>%
  filter(!is.na(tmax), !is.na(tmin)) %>%
  mutate(
    year = year(date),
    month = month(date),
    day = day(date)
  )
```


```{r}
ny_noaa_clean = ny_noaa_clean %>%
  mutate(
    tmax = tmax / 10,    
    tmin = tmin / 10, 
    prcp = prcp / 10
  )
```


```{r}
ny_noaa_clean |>
  count(snow, sort = TRUE)
```

For snowfall, 0 is the most commonly observed value, followed by NA value and 25. It's because snow does not fall for most of the year.
